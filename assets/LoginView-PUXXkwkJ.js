import{f as b,s as w,g as x,r as a,o as v,c as k,a as e,b as s,w as d,n as g,d as y,i as V}from"./index-XMssBjQz.js";var E={VITE_APP_URL:"https://freyja-xrwt.onrender.com",BASE_URL:"/typescript-final-challenge/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const A={class:"bg-line d-flex align-items-center justify-content-center"},D={class:"container w-100 w-md-75 w-xl-50 overflow-top-set"},L=e("div",{class:"mb-7"},[e("p",{class:"text-primary mb-2"},"享樂酒店，誠摯歡迎"),e("h1",{class:"fw-bold text-white"},"立即開始旅程")],-1),R={class:"d-flex flex-column gap-2 mb-7"},S={class:""},F=e("label",{for:"email",class:"form-label"},"電子信箱",-1),P={class:""},j=e("label",{for:"password",class:"form-label"},"密碼",-1),B={class:"d-flex justify-content-between"},C={class:"form-check text-start"},T=e("label",{class:"form-check-label",for:"remberAccount"}," 記住帳號 ",-1),$=e("a",{href:""},"忘記密碼？",-1),q=["disabled"],M={class:"d-flex"},N=e("p",{class:"text-white"},"沒有會員嗎？",-1),O=b({__name:"LoginView",setup(U){const{swalSuccess:m,swalError:_}=w.methods;let n=x({email:"",password:""});const{VITE_APP_URL:p}=E,f=V("axios");function u(l){const{email:r,password:o}=l;n={email:r,password:o},f.post(`${p}/api/v1/user/login`,{...n}).then(t=>{m("登入成功");const{token:c}=t.data;document.cookie=`hexToken=${c}; expires=${new Date().setDate(new Date().getDate()+7)}`}).catch(t=>{_(`登入失敗\r
${t.response.data.message}`)})}return(l,r)=>{const o=a("VField"),t=a("ErrorMessage"),c=a("VForm"),h=a("RouterLink");return v(),k("section",A,[e("div",D,[L,e("div",null,[s(c,{class:"mb-7",ref:"searchForm",onSubmit:u},{default:d(({meta:i})=>[e("div",R,[e("div",S,[F,s(o,{class:"form-control",name:"email",type:"text",id:"email",placeholder:"hello@exsample.com",autocomplete:"email",rules:"required|email"}),s(t,{as:"p",class:"invalid-feedback d-block mb-0",name:"email"})]),e("div",P,[j,s(o,{class:"form-control",name:"password",type:"password",id:"password",placeholder:"請輸入密碼",rules:"required|minLength:8"}),s(t,{as:"p",class:"invalid-feedback d-block mb-0",name:"password"})]),e("div",B,[e("div",C,[T,s(o,{id:"remberAccount",name:"remberAccount",type:"checkbox",class:"form-check-input",value:"rember",required:""})]),$])]),e("button",{type:"submit",class:g([[i.valid?"btn-primary text-white":"btn-neutral-40 text-neutral-60"],"btn py-3 px-6 w-100 fw-bold"]),disabled:!i.valid},"會員登入",10,q)]),_:1},512),e("div",M,[N,s(h,{to:"/signup"},{default:d(()=>[y("前往註冊")]),_:1})])])])])}}});export{O as default};
